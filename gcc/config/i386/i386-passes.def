/* Description of target passes for IA-32 
   Please review: $(src-dir)/SPL-README for Licencing info. */

/*
   Macros that can be used in this file:
   INSERT_PASS_AFTER (PASS, INSTANCE, TGT_PASS)
   INSERT_PASS_BEFORE (PASS, INSTANCE, TGT_PASS)
   REPLACE_PASS (PASS, INSTANCE, TGT_PASS)
 */

  INSERT_PASS_AFTER (pass_reload, 1, pass_insert_vzeroupper);
  INSERT_PASS_AFTER (pass_combine, 1, pass_stv, false /* timode_p */);
  /* Run the 64-bit STV pass before the CSE pass so that CONST0_RTX and
     CONSTM1_RTX generated by the STV pass can be CSEed.  */
  INSERT_PASS_BEFORE (pass_cse2, 1, pass_stv, true /* timode_p */);

  INSERT_PASS_BEFORE (pass_shorten_branches, 1, pass_insert_endbr_and_patchable_area);

  INSERT_PASS_AFTER (pass_combine, 1, pass_remove_partial_avx_dependency);
